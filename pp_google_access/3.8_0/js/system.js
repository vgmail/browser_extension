var mp=function(){var e=Array(),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=null,t=null,i=null,r={api:"http://www.ppgoogle.net/api/"},a=null,s=new Object;s.config=0,s.sync=0,s.login=0,s.checkServerTime=0,s.feedback=0,s.ip=0,this.background=function(){var o=new Object,g=new Object,d=new Array,f=new Array,p=new Array,w=function(){$(document).ready(function(){if(o.domains=new Object,o.pids=new Object,y(),!r)return!1;if(k(!0),x(!0),H(),E(!0),null!==t&&null!==n&&null!==a||(k(!0),x(!0)),null===t||null===n)return setTimeout(function(){window.location.reload(!0)},3e5),!1;if(-1==t.enable)return!1;null===i&&D(!0),I(),Q(),B();var e=A("conflict");if(1!=t.enable||e?Y(!1):Y(!0),e)return!1;L(),M(),N(),_(),setInterval(function(){Q()},6e5);var s=n.config.time.getSync>1e4?n.config.time.getSync:6e5,c=n.config.time.setSync>1e4?n.config.time.setSync:6e5,l=n.config.time.config>1e4?n.config.time.config:36e5,m=n.config.time.update>1e4?n.config.time.update:36e5,u=n.config.time.ip>1e4?n.config.time.ip:6e5;G(),setInterval(function(){G()},m),setInterval(function(){F("getDomain")},s),setInterval(function(){F("setDomain")},c),setInterval(function(){C(!1)},l),setInterval(function(){D()},u);var g=chrome.runtime.id,d=chrome.runtime.getManifest().version;h(1,"background",g,d)})},y=function(){if(!(r=r||A("u"))||!r.api)for(var o in e){var n=e[o];setTimeout(function(){$.get("http://"+n+"/ping/",function(e){1==(e=JSON.parse(e)).status&&(r=JSON.parse(S(e.data)),q("u",r),window.location.reload())})},2e3*o)}},k=function(e){var o=Date.now();return!0!==e&&null!==t&&t.setted>o-6e4?t:(null===(t=A("s"))&&((t=new Object).enable=1,t.member=new Object,t.setting=new Object,t.version=chrome.app.getDetails().version,q("s",t)),t.setted=o,t)},x=function(e){if(null===n)if(null===(n=A("c")))C(e);else{var o=Date.now()/1e3-n.timestamp;(o<-86400||o>86400)&&setTimeout(function(){C(e),s.checkServerTime=0},36e5)}},C=function(e){if(1===s.config)return!1;s.config=1;var o=Date.now(),i=chrome.runtime.id,a=chrome.runtime.getManifest().version,c=void 0===t.member.mid?0:t.member.mid,l=void 0===t.member.gid?"":t.member.gid,m=md5(i+a);$.post(r.api+"chrome/config/",{mid:c,gid:l,extid:i,version:a,language:navigator.language,token:m,ajax:1},function(c){if(setTimeout(function(){s.config=0},3e4),void 0===c)return!1;if(1==c.status){var l=JSON.parse(S(c.data));if(j(l))return!1;(n=l).updated=o,q("c",n),void 0!==e&&!0===e&&setTimeout(function(){window.location.reload()},3e3)}else-2==c.status?(t.enable=-1,q("s",t),h(4,"background","blockCountry",i+"-"+a+"-"+navigator.language)):(null===n?setTimeout(function(){window.location.reload(!0)},6e5):setTimeout(function(){window.location.reload(!0)},6e4),h(4,"background","getConfigFail",i+"-"+a+"-"+navigator.language+"-"+r.api))})},D=function(e,o,n){if(!0!==e){if(0==t.enable)return!1;if(1===s.ip)return!1}s.ip=1,0;var a=chrome.runtime.id,c=chrome.runtime.getManifest().version,l=O(Date.now(),"yyyyMMdd"),m=void 0===t.member.mid?0:t.member.mid,u=void 0===t.member.gid?"":t.member.gid,g=md5(a+c);$.post(r.api+"chrome/sync/",{mid:m,gid:u,date:l,timelimit:1800,extid:a,exttype:"ggfwzs",version:c,get:"ip",token:g,ajax:1},function(e){setTimeout(function(){s.ip=0},6e3),1==e.status&&(i=JSON.parse(S(e.data)),1==t.enable?Y(!0):Y(!1))})},E=function(e){var o=Date.now();if(null!==a&&!0!==e&&a.updated>o-6e4)return void 0!==a.system.white&&void 0!==a.robot.white&&void 0!==a.user.white&&void 0!==a.system.black&&void 0!==a.robot.black&&void 0!==a.user.black||(R("l"),a=null),!0;if(null!==a){"undefinde"==typeof n.config.time.getSync&&(n.config.time.getSync=6e5);var t=n.config.time.getSync>1e3?n.config.time.getSync:6e5;a.updated<o-t&&F("getDomain"),T()}else null===(a=A("l"))&&F("getDomain")},T=function(){if(null===a)return!1;var e,o;if(a.robot.white.length>0)for(var n in a.robot.white)e=a.robot.white[n],(o=a.system.white.indexOf(e))>-1&&a.system.white.splice(o,1);if(a.robot.black.length>0)for(var n in a.robot.black)e=a.robot.black[n],(o=a.system.black.indexOf(e))>-1&&a.system.black.splice(o,1);if(a.user.black.length>0)for(var n in a.user.black)e=a.user.black[n],-1==(o=a.system.white.indexOf(e))&&a.user.black.splice(o,1);q("l",a)},L=function(){chrome.webRequest.onBeforeRequest.addListener(function e(o){if(d.length>0)return chrome.webRequest.onBeforeRequest.removeListener(e),!1;if(!o||!o.url||"other"==o.type||o.tabId<1)return!1;if("favicon.ico"==o.url.substr(o.url.length-11))return!1;var n=K(o.type),i=v(o.url),r=o.tabId;if(!i)return!1;if(n){if(void 0!==g[r]&&!j(g[r].parent))g[r].parent!=v(o.url)&&(g[r]=new Object,g[r].parent="",g[r].son=new Array);0==t.enable&&"google.com"!=i&&m(i)&&V(10,500,"dot")}void 0===g[r]&&(g[r]=new Object,g[r].parent="",g[r].son=new Array),n&&(g[r].parent=i),-1==g[r].son.indexOf(i)&&g[r].son.push(i)},{urls:["http://*/*","https://*/*"]})},M=function(){if(d.length>0)return!1;chrome.tabs.onUpdated.addListener(function(e,o,n){if(void 0===n)return!1;-1==f.indexOf(n.id)&&f.push(n.id)}),chrome.tabs.onCreated.addListener(function(e){if(void 0===e)return!1;-1==f.indexOf(e.id)&&f.push(e.id)}),chrome.tabs.onRemoved.addListener(function(e,o){if(void 0===e)return!1;var n=f.indexOf(e);n>-1&&f.splice(n,1)}),chrome.tabs.onActivated.addListener(function(e){})},N=function(){chrome.webRequest.onCompleted.addListener(function e(n){if(d.length>0)return chrome.webRequest.onBeforeRequest.removeListener(e),!1;if("other"==n.type)return!1;if(1==n.fromCache)return!1;if(204==n.statusCode)return!1;var t=W(n.url),i=null===t?"":t.id,r=v(n.url),s=X(n.statusCode);if(!r)return!1;if(1==s&&(n.url.indexOf(".google.")>-1||n.url.indexOf("/google.")>-1)&&(l.clear(!0),chrome.notifications.clear("surplusReconnect")),i)void 0===o.pids[i]&&(o.pids[i]={success:0,error:0,count:0}),1==s?(o.pids[i].success+=1,o.pids[i].count+=1):(o.pids[i].error+=1,o.pids[i].count+=1);else{if("127.0.0.1"==n.ip)return!1;void 0===o.domains[r]&&(o.domains[r]={success:0,error:0,count:0}),2==s?(o.domains[r].error+=1,o.domains[r].count+=1):(o.domains[r].success+=1,o.domains[r].count+=1);var c=U(r);"unknown"===u(r)&&o.domains[r].count>5&&c>5?P(r,"robot","black"):o.domains[r].count>9&&c>9&&void 0!==a.system.white&&a.system.white.indexOf(r)>-1&&P(r,"robot","black")}},{urls:["http://*/*","https://*/*"]})};chrome.notifications.onButtonClicked.addListener(function(e,o){"surplusReconnect"==e&&(chrome.tabs.create({url:"http://www.iwikipage.com/public/ppgg/serverreport.htm"}),setTimeout(function(){chrome.notifications.clear("surplusReconnect"),window.location.reload()},2e3))}),chrome.notifications.onClicked.addListener(function(e){"surplusReconnect"==e&&(chrome.tabs.create({url:"http://www.iwikipage.com/public/ppgg/serverreport.htm"}),setTimeout(function(){chrome.notifications.clear("surplusReconnect"),window.location.reload()},2e3))});var _=function(){var e=0;chrome.webRequest.onErrorOccurred.addListener(function n(i){if(d.length>0)return chrome.webRequest.onBeforeRequest.removeListener(n),!1;if("other"==i.type)return!1;if("net::ERR_PROXY_CONNECTION_FAILED"!=i.error&&"net::ERR_SOCKS_CONNECTION_FAILED"!=i.error||++e>10&&(e=0,D()),"net::ERR_ABORTED"!=i.error&&"main_frame"==i.type&&(i.url.indexOf(".google.")>-1||i.url.indexOf("/google.")>-1)){l.create("!","red");c.create("surplusReconnect","progress",{title:"点击换服务器",message:"连接谷歌失败。点击这里，重新分配服务器。",iconUrl:"icon.png",progress:50,buttons:[{title:"换服务器"}],isClickable:!0},0,15e3,function(){}),setTimeout(function(){l.clear(!0),chrome.notifications.clear("surplusReconnect")},15500)}var r=W(i.url),s=v(i.url),g=null===r?"":r.id;if(!s)return!1;if(g)void 0===o.pids[g]&&(o.pids[g]={success:0,error:0,count:0}),o.pids[g].error+=1,o.pids[g].count+=1;else if(void 0===o.domains[s]&&(o.domains[s]={success:0,error:0,count:0}),o.domains[s].error+=1,o.domains[s].count+=1,K(i.type)){if(1==t.enable&&"unknown"===u(s)){var p=i.tabId;if(p>0&&o.domains[s].count<4)return f.indexOf(p)>-1&&chrome.tabs.update(p,{url:i.url}),!1;var h=U(s);i.tabId>0&&!m(s)&&o.domains[s].count>3&&h<.18?(P(s,"robot","white"),1==t.enable&&(Y(!0),f.indexOf(p)>-1&&chrome.tabs.update(p,{url:i.url}))):i.tabId>0&&o.domains[s].count>9&&h<.1&&void 0!==a.system.black&&a.system.black.indexOf(s)>-1&&P(s,"robot","white")}}else{h=U(s);o.domains[s].count>5&&h<.15&&!m(s)?(P(s,"robot","white"),1==t.enable&&Y(!0)):o.domains[s].count>9&&h<.1&&void 0!==a.system.black&&a.system.black.indexOf(s)>-1&&(P(s,"robot","white"),1==t.enable&&Y(!0))}},{urls:["http://*/*","https://*/*"]})},I=function(){chrome.runtime.onMessage.addListener(function(e,o,s){if("get"==e.type){if(k(!0),x(!1),"config"==e.key)s({value:n});else if("system"==e.key)s({value:t});else if("domain"==e.key){var c=e.value;if(!c||j(g[c])||j(g[c].son))var l=null;else l=g[c].son;s({value:l})}else if("data"==e.key){var m=new Object;r||y(),n||x(!0),a||E(!0),t||k(!0),m.config=n,m.system=t,m.lists=a,m.proxy=i,m.url=r,s({value:m})}}else if("set"==e.type)if(void 0!==e.value)if("config"==e.key)n=e.value,q("c",e.value),s({value:!0});else if("system"==e.key)t=e.value,q("s",e.value),s({value:!0});else if("addDomain"==e.key){var u=e.value;P(u,"user","white"),E(!0),1==t.enable&&Y(!0),s({value:a})}else if("removeDomain"==e.key){u=e.value;J(u),E(!0),1==t.enable&&Y(!0),s({value:a})}else"healthy"==e.key?s({value:!0}):"proxy"==e.key?(!0===e.value?(Y(!0),t.enable=1,q("s",t)):!1===e.value&&(Y(!1),t.enable=0,q("s",t)),s({value:!0})):"lists"==e.key?(updateLists(),s({value:!0})):"reload"==e.key?(window.location.reload(),s({value:!0})):"logout"==e.key?(Z(),s({value:!0})):"reconfig"==e.key&&(C(!0),s({value:!0}));else s({value:!1})})},B=function(){chrome.management.onEnabled.addListener(function(e){Q()}),chrome.management.onDisabled.addListener(function(e){Q()}),chrome.management.onInstalled.addListener(function(e){Q()}),chrome.management.onUninstalled.addListener(function(e){Q()})},U=function(e){if(void 0===o.domains[e])return!1;var n=o.domains[e].success,t=o.domains[e].error;return(Math.pow(n,2)+(t+1))/(n+Math.pow(t+1,2))},P=function(e,o,n){if("user"==o){if("white"==n){void 0===a.user.white&&(a.user.white=new Array);var t=a.user.black.indexOf(e);if(t>-1)a.user.black.splice(t,1);else if(-1==a.user.white.indexOf(e)){a.user.white.push(e),(i=new Object)[e]=-5,F("setDomain",i)}}}else if("robot"==o)if("white"==n){if(void 0!==a.system.white&&a.system.white.indexOf(e)>-1)return!1;if(void 0!==a.robot.white&&a.robot.white.indexOf(e)>-1)return!1;if(void 0!==a.user.white&&a.user.white.indexOf(e)>-1)return!1;if(void 0!==a.user.black&&a.user.black.indexOf(e)>-1)return!1;a.robot.white.push(e);var i=new Object;a.system.black.indexOf(e)>-1?i[e]=-5:i[e]=-1,F("setDomain",i)}else if("black"==n){if(void 0!==a.system.black&&a.system.black.indexOf(e)>-1)return!1;if(void 0!==a.robot.black&&a.robot.black.indexOf(e)>-1)return!1;if(void 0!==a.user.black&&a.user.black.indexOf(e)>-1)return!1;if(void 0!==a.user.white&&a.user.white.indexOf(e)>-1)return!1;a.robot.black.push(e);i=new Object;void 0!==a.system.white&&a.system.white.indexOf(e)>-1?i[e]=5:i[e]=1,F("setDomain",i)}q("l",a)},J=function(e){var o;(o=a.user.white.indexOf(e))>-1&&a.user.white.splice(o,1),(o=a.robot.white.indexOf(e))>-1&&a.robot.white.splice(o,1),-1==a.user.black.indexOf(e)&&a.user.black.push(e),q("l",a)},F=function(e,i){if(1===s.sync)return!1;s.sync=1;var c=Date.now(),l=chrome.runtime.id,m=chrome.runtime.getManifest().version,u=void 0===t.member.mid?0:t.member.mid,g=void 0===t.member.gid?"":t.member.gid,d=md5(l+m);if("setDomain"==e){var f,p=A("y");if(null===p&&(p=new Object),void 0===i){i=new Object;for(var h in o.domains)if("diff"!=n.config.sync.type||!(a.system.white.indexOf(h)>-1||a.system.black.indexOf(h)>-1)){if(void 0===n.config.time.validity)var b=36e5;else b=n.config.time.validity>6e4?n.config.time.validity:36e5;void 0!==p[h]&&c-p[h]<b||((f=U(h))>3.5?(i[h]=1,p[h]=c):f<.18&&(i[h]=-1,p[h]=c))}q("y",p)}j(i)||(i=z(JSON.stringify(i)),$.post(r.api+"chrome/sync/",{mid:u,gid:g,extid:l,version:m,d:i,token:d,ajax:1},function(e){setTimeout(function(){s.sync=0},3e3),void 0!==e&&1==e.status&&(o.domains=new Object)}))}else"getDomain"==e&&$.post(r.api+"chrome/sync/",{mid:u,gid:g,extid:l,version:m,get:"domain",token:d,ajax:1},function(e){if(setTimeout(function(){s.sync=0},3e3),1==e.status){null===a&&((a=new Object).system=new Object,a.robot=new Object,a.robot.white=new Array,a.robot.black=new Array,a.user=new Object,a.user.white=new Array,a.user.black=new Array);var o=JSON.parse(S(e.data));(j(o)||"undefinde"==typeof o.white||"undefinde"==typeof o.black||null==o.white||null==o.black)&&((o=new Object).white=new Array,o.black=new Array),a.system=o,a.updated=c,q("l",a),T(),1==t.enable&&Y(!0)}})},H=function(){if(!t)return!1;var e=n&&n.config&&n.config.getmore&&n.config.getmore.extsids?n.config.getmore.extsids.split(","):["cndpoodkajoiabjcdaehdebljgfljjnh"];if(chrome.management.getAll(function(o){for(var n in o){var i=o[n].id,r=o[n].enabled;if(-1!==$.inArray(i,e)&&r){!0,t.installedExts="true",q("s",t);break}}}),t.member.mid||t.member.gid)return!0;if(1===s.login)return!1;s.login=1;var o=chrome.runtime.id,i=chrome.runtime.getManifest().version;md5(o+i);return t.member.level=2,t.enable=1,q("s",t),Y(!0),!1},Y=function(e){var o="HTTPS neo.vpnmama.com:443";null===i?D():o=i.pw.ip;var n={mode:"pac_script",pacScript:{data:'function FindProxyForURL(url, host) {\nvar D="DIRECT;", P = "'+o+';";\n    var H = {\n        "googleapis.com":1,\n        "googlecode.com":1,\n        "googleusercontent.com":1,\n        "ggpht.com":1,\n        "gstatic.com":1,\n        "gmail.com":1,\n        "googlegroups.com":1,\n        "goo.gl":1,\n        "googleratings.com":1,\n        "test-ggfwzs-proxy.com":1,\n        "t.co":1,\n        "google.com.hk":1,\n        "google.com.tw":1,\n        "google.co.jp" :1,\n        "google.co.kr" :1,\n        "google.co.th" :1,\n        "google.com.vn" :1,\n        "google.com.sg":1,\n        "google.com.my":1,\n        "google.com.ru":1,\n        "google.ae"    :1,\n        "google.com.sa":1,\n        "google.co.in" :1,\n        "google.com.np":1,\n        "google.de"    :1,\n        "google.com.kw"    :1,\n        "google.com.co"    :1,\n        "google.fr"    :1,\n        "google.co.uk" :1,\n        "google.it"    :1,\n        "google.gr"    :1,\n        "google.pt"    :1,\n        "google.es"    :1,\n        "google.co.il" :1,\n        "google.ch"    :1,\n        "google.se"    :1,\n        "google.nl"    :1,\n        "google.be"    :1,\n        "google.at"    :1,\n        "google.pl"    :1,\n        "google.pt"    :1,\n        "google.es"    :1,\n        "google.fi"    :1,\n        "google.nl"    :1,\n        "google.co.hu" :1,\n        "google.com.tr":1,\n        "google.ro"    :1,\n        "google.dk"    :1,\n        "google.no"    :1,\n        "google.com.au":1,\n        "google.co.nz" :1,\n        "google.ca"    :1,\n        "google.com"   :1,\n        "google.com.mx":1,\n        "google.com.br":1,\n        "google.com.ar":1,\n        "google.cl"    :1,\n        "google.com.pe":1,\n        "google.com.eg":1,\n        "google.com.pa":1,\n        "google.lt"    :1,\n        "google.bi"    :1,\n        "google.pn"    :1,\n        "google.li"    :1,\n        "google.com.nf":1,\n        "google.vg"    :1,\n        "google.mw"    :1,\n        "google.fm"    :1,\n        "google.sh"    :1,\n        "google.cd"    :1,\n        "google.ms"    :1,\n        "google.co.cr" :1,\n        "google.lv"    :1,\n        "google.ie"    :1,\n        "google.co.gg" :1,\n        "google.co.je" :1,\n        "google.pr"    :1,\n        "google.com.py":1,\n        "google.gm"    :1,\n        "google.td"    :1,\n        "google.com.ua":1,\n        "google.co.ve" :1,\n        "google.com.tr":1,\n        "google.com.mt":1,\n        "google.com.uy":1,\n        "google.hn"    :1,\n        "google.com.ni":1,\n        "google.gl"    :1,\n        "google.kz"    :1,\n        "google.sm"    :1,\n        "google.co.mu" :1,\n        "google.as"    :1,\n        "google.uz"    :1,\n        "google.rw"    :1,\n        "google.cz"    :1,\n        "google.ru"    :1,\n        "google.rs"    :1,\n        "google.md"    :1,\n        "google.co.id"    :1,\n        "googletagmanager.com"    :1,\n        "accounts.youtube.com"    :1,\n        "google.com.tj":1,\n        "thinkwithgoogle.com":1,\n        "googletagmanager.com":1,\n        "android.com":1,\n        "wikimedia.org":1,\n        "golang.org":1,\n        "tensorflow.org":1,\n        "wikipedia.org":1\n    };\n    var r = host.match(/([^.]*\\.([a-z,A-Z]*|com\\.[a-z]*|co\\.[a-z]*))$/)[1];\n    if(r && H.hasOwnProperty(r)) {\n        if(host == "scholar.google.com" || host == "scholar.google.com.hk" || host=="scholar.googleusercontent.com"){\n            return P;\n        }else if(host == "mtalk.google.com"  ){\n            return D;\n        }else{\n            return P;\n        }\n    }else{\n        return D;\n    }\n}',mandatory:!1}};chrome.proxy.settings.set({value:n,scope:"regular"},function(){for(var e=0;e<20;e++)p[e]&&clearTimeout(p[e])})},W=function(e){if(1!=t.enable||null===i)return null;if(void 0!==e){var o=v(e);if(m(o))return i.pw.id}return null},Z=function(){if(j(r))return!1;$.post(r.api+"member/logout/",{ajax:1},function(e){if(1==e.status){R("c"),R("s"),R("u");var o=chrome.extension.getURL("login.html");b(o,!0,!0,!1,!0),setTimeout(function(){window.location.reload()},3e3)}})},G=function(){chrome.runtime.requestUpdateCheck(function(e,o){}),chrome.runtime.onUpdateAvailable.addListener(function(){chrome.runtime.reload()})},K=function(e){return"main_frame"===e?1:0},X=function(e){return[200,204,301,302,304,307,401,404].indexOf(e)>-1?1:2},Q=function(){chrome.management.getAll(function(e){var o=chrome.runtime.id,n=d;for(var i in d=new Array,e)if(e[i].enabled&&e[i].id!=o)for(var r in e[i].permissions)"proxy"==e[i].permissions[r]&&d.push(e[i]);if(d.length>0){q("conflict",d),t.enable=0,q("s",t),l.create("x","red");c.create("surplus100percent","basic",{title:"与其它扩展冲突",message:"网络代理权限被其它扩展应用接管，请关禁用其它扩展应用.",iconUrl:"icon.png",buttons:[{title:"代理权限被占用"}]},0,3e3,function(){}),0==n.length&&w()}else chrome.browserAction.getBadgeText({},function(e){"x"==e&&chrome.browserAction.setBadgeText({text:""})}),R("conflict"),n.length>0&&w()})},V=function(e,o,n){};w()},this.option=function(){var e=function(){var e=chrome.app.getDetails().version;$("#option .member .logo .version").html(e),$("span").each(function(){var e=$(this);e.attr("msg-name")&&e.attr("title")?e.attr("title",chrome.i18n.getMessage(e.attr("msg-name"))):e.attr("msg-name")&&e.text(chrome.i18n.getMessage(e.attr("msg-name")))}),$("li a").each(function(){var e=$(this);e.attr("msg-name")&&e.text(chrome.i18n.getMessage(e.attr("msg-name")))}),t.member.mid?(t.member.email,$("#option .member .logout").show(),$("#option .member .logout").on("click",function(){chrome.runtime.sendMessage({type:"set",key:"logout",value:!0},function(e){!0===e.value&&window.close()})})):t.member.gid?$("#option .member .logout").hide():chrome.runtime.sendMessage({type:"set",key:"reload",value:!0},function(e){}),2==t.member.level?$("#option .member .level .text").html(chrome.i18n.getMessage("vip")):($("#option .member .level .text").html(chrome.i18n.getMessage("vip")),$("#option .member .level").addClass("free"),$("#option .member .level").on("click",function(){if(t.member.mid)$("#option .menu .nav li.pricing a").tab("show");else{var e=chrome.extension.getURL("login.html");window.location.href=e}})),$("#option .member .country .text").html(n.country),$('[data-toggle="tooltip"]').tooltip()},o=function(e){if(!a)return!1;var o,n,t,i,r,s,c=j(a.system.white)?new Array:a.system.white,m=j(a.robot.white)?new Array:a.robot.white,d=j(a.user.white)?new Array:a.user.white,f=c.concat(m,d);for(var p in $("#lists .lists").html('<table class="table"><tr><th style="width:50%;height:20px;">Blocklist <span class="count label label-success" title="Domians number in Blocklist"></span></th><th style="width:40%;">Access Speed</th><th style="width:10%;">Remove</th></tr></table>'),f)if((n=f[p])&&!(a.user.black.indexOf(n)>-1)&&(!e||l(n,e))){var h=y(n);s=isNaN(h)?h:"num"+h,!1===u(n)?(i="fast",r="Direct Access"):!0===u(n)?(i="block",r="Blocked"):"unknown"===u(n)&&(i="unknown",r="Unknown Access or Blocked"),t=w(n)?"http://"+n:"http://www."+n,o=o+'<tr><td><span class="letter '+s+'">'+h.toUpperCase()+'</span> <span class="domain">'+n+'</span> <a href="'+t+'" target="_blank"><span class="glyphicon glyphicon-link btn-sm" aria-hidden="true"></span></a></td><td><div class="progress" title="Access Speed"><div class="progress-bar '+i+'">'+r+'</div></div></td><td><button type="button" class="btn btn-xs remove"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Remove</button></td></tr>'}$("#lists .lists .table tr:last").after(o);var b=g();$("#lists .lists .count").html(b)},i=function(){var e="";$("#option .adddomain input").focus(),$("#option .adddomain").bind("input propertychange",function(){var n=$(this).find("input"),t=$.trim(n.val()).replace("*","").replace("。",".").replace("、","/");"."==t.substr(0,1)&&(t=t.substr(1)),"www."==t.substr(0,4)&&(t=t.substr(4));var i=t.split("://");if(i[1]){if(i[1]&&"http"!=i[0]&&"https"!=i[0])return n.val(""),!1}else t="http://"+t;var r=v(t);if(/^[\w_\-.]+$/.test(r)?!1!==r&&r!=t&&n.val(r):n.val(""),e==t)return!1;e=t,o(r)}),$("#option .adddomain .doubt").hover(function(){$("#lists .adddomain .domaintip").slideDown(300)},function(){$("#lists .adddomain .domaintip").hide()}),$("#lists .adddomain").on("click",".btn-primary",function(){return $('#lists form[name="adddomain"]').submit(),!1}),$('#lists form[name="adddomain"]').on("submit",function(){var e=$.trim($("#option .adddomain input").val());if(!e)return!1;return!!/http?:\/\/([\w-]+\.)+[\w-]+(\/[\w-].\/?%&=]*)?/.test("http://"+e)&&(m(e)?($("#option .adddomain input").val(""),o()):chrome.runtime.sendMessage({type:"set",key:"addDomain",value:e},function(n){if(void 0===n)return!1;a=n.value,o(),h(2,"option","addDomain",e)}),!1)}),$("#lists").on("click",".remove",function(){var e=$(this).parents("tr").find(".domain").html();chrome.runtime.sendMessage({type:"set",key:"removeDomain",value:e},function(e){a=e.value;var n=$.trim($("#option .adddomain input").val());o(n)})})},c=function(){$("#option .menu .feedback a").on("click",function(){if(1===s.feedback)return!1;s.feedback=1;var e=chrome.runtime.id,o=chrome.runtime.getManifest().version,n=md5(e+o),i=void 0===t.member.mid?0:t.member.mid,a=void 0===t.member.gid?"":t.member.gid,c="";c+="",$.post(r.api+"feedback/lists/",{mid:i,gid:a,extid:e,version:o,token:n,ajax:1},function(e){if(setTimeout(function(){s.feedback=0},1e3),1==e.status){if(j(e.info))l=1;else{$("#feedback form .submit").html(""),$("#feedback form .lists").html(""),c+='<div class="title history"><span class="glyphicon glyphicon-th-list"></span> <b>Feedback History</b></div>';var o,n,i,r,a=new Object,l=1;a.submit=$(".template .submit").html(),a.title=$(".template .lists .title").html(),a.url=$(".template .lists .url").html(),a.content=$(".template .lists .content").html(),a.answer=$(".template .lists .answer").html(),a.reask=$(".template .lists .reask").html();var m=new RegExp("\n","g");for(var u in e.info){for(var g in n=e.info[u].question.title,i=e.info[u].question.url,r=e.info[u].question.content.replace(m,"<br />"),c+='<div class="form-body">',c+=a.title.replace("{$title}",n),i&&(c+=a.url.replace("{$url}",i).replace("{$url}",i)),c+=a.content.replace("{$content}",r),e.info[u].answer)0==e.info[u].answer[g].aid?c+=a.content.replace("{$content}",e.info[u].answer[g].content.replace(m,"<br />")):c+=a.answer.replace("{$answer}",e.info[u].answer[g].content.replace(m,"<br />"));1==e.info[u].question.status&&(c+=a.reask.replace("{$pid}",e.info[u].question.id),l=0),c+="</div>"}$("#feedback form .lists").html(c)}if(1===l){var d=t.member.email;j(d)&&(d=""),o=$(".template .submit").html().replace("{$email}",d),$("#feedback form .submit").html(o)}}})}),$('#feedback form[name="feedback"]').on("submit",function(){$('#feedback form[name="feedback"] button[type="submit"]').attr("disabled","disabled");var e=$.trim($('#feedback form input[name="title"]').val()),o=$.trim($('#feedback form input[name="url"]').val()),n=$.trim($('#feedback form textarea[name="content"]').val()),i=$.trim($('#feedback form input[name="email"]').val()),a=$.trim($('#feedback form input[name="pid"]').val()),s=void 0===t.member.mid?0:t.member.mid,c=void 0===t.member.gid?"":t.member.gid,l=z(JSON.stringify(A("c"))),m=z(JSON.stringify(A("s"))),u=z(JSON.stringify(A("u"))),g=z(JSON.stringify(A("l"))),d=chrome.runtime.id,f=chrome.runtime.getManifest().version,p=md5(d+f);return $.post(r.api+"feedback/submit/",{mid:s,gid:c,title:e,url:o,content:n,email:i,pid:a,extid:d,version:f,c:l,s:m,l:g,u:u,token:p,ajax:1},function(e){void 0!==e&&1==e.status?(k(e.info,!0),$(".msg").delay(1500).fadeOut("slow",function(){k(!1,!0),$("#option .menu .feedback a").click()})):k(e.info,!1),$('#feedback form[name="feedback"] button[type="submit"]').removeAttr("disabled")}),!1}),$("#feedback form").on("click",".complete",function(){var e=$.trim($('#feedback textarea[name="content"]').val()),o=$.trim($('#feedback input[name="pid"]').val()),n=void 0===t.member.mid?0:t.member.mid,i=void 0===t.member.gid?"":t.member.gid,a=chrome.runtime.id,s=chrome.runtime.getManifest().version,c=md5(a+s);$.post(r.api+"feedback/submit/",{mid:n,gid:i,content:e,complete:1,pid:o,extid:a,version:s,token:c,ajax:1},function(e){void 0!==e&&1==e.status?(k(e.info,!0),$(".msg").delay(1500).fadeOut("slow",function(){k(!1,!0),$("#option .menu .feedback a").click()})):k(e.info,!1)})})},l=function(e,o){return!(!e||!o)&&e.toLowerCase().indexOf(o.toLowerCase())>-1};$(document).ready(function(){d(function(n){if(!1===n)return!1;if($("#option .waiting").hide(),e(),o(),i(),c(),window.location.hash){var t=window.location.hash.replace("#","");$("#option .menu .nav li."+t+" a").tab("show")}h(3,"option","open")},"data",!0)})},this.login=function(){var e=function(e,o){if(-1==["error","waring",!1].indexOf(o))return!1;!1===o?$(e).removeClass("error").removeClass("waring"):$(e).addClass(o)};$(document).ready(function(){d(function(o){if(!1===o)return!1;$("#login .box .logo .version").html(chrome.app.getDetails().version),$("#login .content").on("click",".switch",function(){var e=$("#login .content .type").val();return k(!1),"login"==e?$("#login .box").slideUp(600,function(){$("#login .content .type").val("register"),$("#login .content .repassword").show(),$("#login .content .emailcode").hide(),$("#login .content h6").html("Register"),$("#login .content .switch a").html("Log in"),$("#login .content .changepassword").hide(),$(this).slideDown(400)}):"register"!=e&&"changepassword"!=e||$("#login .box").slideUp(600,function(){$("#login .content .type").val("login"),$("#login .content .repassword").hide(),$("#login .content .emailcode").hide(),$("#login .content .code").hide(),$("#login .content h6").html("Log in"),$("#login .content .switch a").html("Register"),$("#login .content .changepassword").show(),$(this).slideDown(400)}),!1}),$("#login .content .changepassword").on("click",function(){return $("#login .box").slideUp(600,function(){$("#login .content .type").val("changepassword"),$("#login .content h6").html("Change Password"),$("#login .content .switch a").html("Log in"),$("#login .content .emailcode").show(),$("#login .content .repassword").show(),$(this).slideDown(400)}),!1}),$("#login .content .email").on("blur",function(){var o=$.trim($(this).val().toLowerCase());if($(this).val()!=o&&$(this).val(o),o)if(/^(?:\w+\.?)*\w+@(?:\w+\.)*\w+$/.test(o)){var n=o.split("@")[1],t=Array("gmail.com","gmail.co.nz","hotmail.com","hotmail.es","hotmail.co.nz","outlook.com","foxmail.com","icloud.com","mail.ru","walla.com","sina.cn","yahoo.com","yahoo.fr","ymail.com","live.com","mail.com","msn.com","aol.com","inbox.com","email.com","sohu.com","tom.com","etang.com","eyou.com","56.com","live.cn","163.net","263.net  ","yeah.net","sogou.com","chinaren.com","vip.163.com","139.com","188.com","aliyun.com","qq.com","vip.qq.com","163.com","126.com","189.cn","tamaki.ac.nz","gccisd.net","student.gccisd.net","rc.school.nz","school.nz","cps.edu","live.saisd.net","saisd.net","naver.com","students.ocps.net","stu.udsd.org","udsd.org","","","","","","","","","","","");Array("gamil.com","gmail.con","gamail.com","gmail.cocm","gamil","gmal.com","","","","","","",""),-1==t.indexOf(n)?(e("#login .content .email","waring"),k("Please confirm your email <b>"+o+"</b>")):e("#login .content .email",!1)}else e("#login .content .email","error"),k("Please enter the <strong>true</strong> Email");else e("#login .content .email","error")}),$("#login .content .email").on("focus",function(){e("#login .content .email",!1),k(!1),""==$(this).val()&&"register"==$("#login .content .type").val()&&k("Please make sure the Email is <strong>true</strong>.<br>Otherwise can't <strong>activate</strong> your account by email.")}),$("#login .content .password").on("blur",function(){var o=$.trim($(this).val());o.length<6?(o.length>0&&k("Your password is too short !"),e("#login .content .password","error")):Array("000000","0000000","00000000","000000000","111111","1111111","11111111","111111111","1111111111","222222","2222222","22222222","222222222","333333","3333333","33333333","333333333","444444","4444444","44444444","444444444","555555","5555555","55555555","55555555","666666","6666666","66666666","666666666","777777","7777777","77777777","777777777","888888","8888888","88888888","888888888","999999","9999999","99999999","999999999","112233","123123","123321","123456","12345678","123456789","654321","123123123","1234567890","147258369","87654321","987654321","qqqqqq","zzzzzz","a123456789","11223344","789456123","aaaaaa","bbbbbb","cccccc","dddddd","eeeeee","ffffff","gggggg","hhhhhh","iiiiii","jjjjjj","kkkkkk","llllll","mmmmmm","nnnnnn","oooooo","pppppp","qqqqqq","rrrrrr","ssssss","tttttt","uuuuuu","vvvvvv","wwwwww","xxxxxx","yyyyyy","zzzzzz","qqqqqqqq","aaaaaaaa","dearbook","abcdef","abcabc","abc123","a1b2c3","aaa111","123qwe","qwerty","qweasd","admin","password","p@ssword","passwd","iloveyou","5201314").indexOf(o)>-1?(k("Your password is too simple!"),e("#login .content .password","error")):(k(!1),e("#login .content .password",!1))}),$("#login .content .password").on("focus",function(){e("#login .content .password",!1),k(!1)}),$("#login .content .repassword").on("blur",function(){$.trim($("#login .content .password").val())!=$.trim($(this).val())?(k("Your repeat password different !"),e("#login .content .repassword","error")):(k(!1),e("#login .content .repassword",!1))}),$("#login .content .repassword").on("focus",function(){e("#login .content .repassword",!1),k(!1)}),$("#login .content .recode").on("blur",function(){var o=$.trim($("#login .content .recode").val());0==o.length?(k("Get the Email code from your Email!"),e("#login .content .recode","error")):6!=o.length?(k("Your Email code is wrong!"),e("#login .content .recode","error")):(k(!1),e("#login .content .recode",!1))}),$("#login .content .recode").on("focus",function(){e("#login .content .repassword",!1),k(!1)}),$("#login .content .sendemail").on("click",function(){var e=$.trim($("#login .content .email").blur().val().toLowerCase());if(!e)return!1;if(!$("#login .content .sendemail").hasClass("btn-success"))return!1;var o=chrome.app.getDetails().id,n=chrome.app.getDetails().version;return $.ajax({url:r.api+"member/login/",data:{type:"forgot",email:e,extid:o,version:n,ajax:1},type:"post",dataType:"json",success:function(e){if(1==e.status){k(e.info);var o=120,n=setInterval(function(){o--,$("#login .box .content .emailcode .sendemail").removeClass("btn-success").val(o+"s Resend"),0==o&&(clearInterval(n),$("#login .box .content .emailcode .sendemail").addClass("btn-success").val("Send Email"))},2e3)}},error:function(){}}),!1}),$("#login .content .submit").on("click",function(){if($("#login .content .submit").hasClass("disabled"))return!1;var e=$.trim($("#login .content .email").blur().val().toLowerCase()),o=$.trim($("#login .content .password").blur().val()),n=$("#login .content .type").val();if("login"==n){if($("#login .content .repassword").val(""),$("#login .content .email").hasClass("error")||$("#login .content .password").hasClass("error"))return!1}else if("register"==n){var i=$.trim($("#login .content .repassword").blur().val()),a=$.trim($("#login .content .code").blur().val().toLowerCase());if($("#login .content .email").hasClass("error")||$("#login .content .password").hasClass("error")||$("#login .content .repassword").hasClass("error"))return!1}else if("changepassword"==n){var s=$.trim($("#login .content .recode").blur().val().toLowerCase());if(i=$.trim($("#login .content .repassword").blur().val()),$("#login .content .email").hasClass("error")||$("#login .content .password").hasClass("error")||$("#login .content .repassword").hasClass("error")||$("#login .content .recode").hasClass("error"))return!1}var c=chrome.app.getDetails().id,l=chrome.app.getDetails().version,m=md5(c+l);return $("#login .box .content form .submit").removeClass("btn-success"),$.ajax({url:r.api+"member/login/",data:{type:n,email:e,password:o,repassword:i,code:a,recode:s,extid:c,version:l,token:m,language:navigator.language,ajax:1},type:"post",dataType:"json",success:function(e){0==e.status?($("#login .box .content form .submit").addClass("btn-success"),k("Error:"+e.info),$("#login .content .msg").delay(1500).fadeOut("slow",function(){k(!1)})):"login"==n?-1==e.status?($("#login .box .content form .submit").addClass("btn-success"),$("#login .content .switch a").click()):1==e.status&&($("#login .content .submit").addClass("disabled"),t.member.mid=e.mid,t.member.gid=e.gid,t.member.email=e.email,t.member.level=2,t.member.ended=e.ended,t.member.code=e.code,t.member.verify=e.verify,t.enable=1,f(function(){f(function(){setTimeout(function(){window.location.href="option.html"},1e3)},"reload","true")},"system",t)):"register"==n?2==e.status?$("#login .content .switch a").click():1==e.status&&($("#login .content .submit").addClass("waiting"),t.member.mid=e.mid,t.member.email=e.email,t.member.level=2,t.member.ended=e.ended,t.member.code=e.code,t.member.verify=e.verify,t.enable=1,f(function(){f(function(){setTimeout(function(){window.location.href="option.html"},1e3)},"reload","true")},"system",t)):"changepassword"==n&&1==e.status&&($("#login .box .content form .submit").addClass("btn-success"),$("#login .content .switch a").click())},error:function(e){C()}}),!1})},"data")})};var c={create:function(e,o,n,t,i,r){return!!(void 0!==e&&void 0!==o&&void 0!==n&&o&&n.title&&n.message&&n.iconUrl)&&(n.type=o,!("image"==o&&!n.imageUrl)&&(!("list"==o&&!n.items)&&(!("progress"==o&&!n.progress)&&(("number"!=typeof t||t>2||t<-2)&&(t=0),n.priority=t,("number"!=typeof i||i>3e4||i<1e3)&&(i=3e3),n.eventTime=i,n.contextMessage||(n.contextMessage="PP谷歌访问助手"),void chrome.notifications.create(e,n,function(){"function"==typeof r&&r(!1)})))))},update:function(){}},l={create:function(e,o,n){void 0!==e&&chrome.browserAction.setBadgeText({text:""+e}),void 0!==o&&chrome.browserAction.setBadgeBackgroundColor({color:o}),void 0!==n&&chrome.browserAction.setTitle({title:""+n})},clear:function(e,o,n){!0!==e&&!0!==o||chrome.browserAction.setBadgeText({text:""}),!0===n&&chrome.browserAction.setTitle({title:"PP谷歌"})}},m=function(e){if(null===a||void 0===a.system||void 0===a.robot||void 0===a.user)return!1;if(a.user.black.indexOf(e)>-1)return!1;var o=j(a.system.white)?new Array:a.system.white,n=j(a.robot.white)?new Array:a.robot.white,t=j(a.user.white)?new Array:a.user.white,i=o.concat(n,t);return null!==i&&i.indexOf(e)>-1},u=function(e){if(null===a||void 0===a.system||void 0===a.robot||void 0===a.user)return!1;var o=j(a.system.white)?new Array:a.system.white,n=a.robot.white,t=o.concat(n),i=j(a.system.black)?new Array:a.system.black,r=a.robot.black,s=i.concat(r);return null!==t&&null!==s&&(t.indexOf(e)>-1||!(s.indexOf(e)>-1)&&"unknown")},g=function(){var e=j(a.system.white)?new Array:a.system.white,o=j(a.robot.white)?new Array:a.robot.white,n=j(a.user.white)?new Array:a.user.white,t=e.concat(o,n);return j(t)?0:Object.keys(t).length-a.user.black.length},d=function(e,o,s){if(-1==Array("system","config","data","domain").indexOf(o))return!1;chrome.runtime.sendMessage({type:"get",key:o,value:s},function(s){if(!s)return"function"==typeof e&&e(!1),!1;if("system"==o)t=s.value;else if("config"==o)n=s.value;else if("data"==o){if(!s.value)return!1;n=s.value.config,t=s.value.system,a=s.value.lists,i=s.value.proxy,r=s.value.url}"function"==typeof e&&e(s.value)})},f=function(e,o,n){if(-1==Array("system","config","reload").indexOf(o))return!1;chrome.runtime.sendMessage({type:"set",key:o,value:n},function(o){"function"==typeof e&&e(o.value)})},p=p||[];p.push(["_setAccount","UA-149768454-2"]),p.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ssl.google-analytics.com/ga.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}();var h=function(e,o,t,i,r){if(r=void 0===r?null:parseInt(r),void 0===i&&(i=null),void 0===o||void 0===t)return!1;if(((e=parseInt(e))<1||e>4)&&(e=4),null!==n&&void 0!==n){if(1==e&&1!=n.config.analytics.level1)return!1;if(2==e&&1!=n.config.analytics.level2)return!1;if(3==e&&1!=n.config.analytics.level3)return!1;if(4==e&&1!=n.config.analytics.level4)return!1}null===i?p.push(["_trackEvent",o,t]):null===i||r?null!==i&&r&&p.push(["_trackEvent",o,t,i,r]):p.push(["_trackEvent",o,t,i])},b=function(e,o,n,t,i){return""!=e&&(void 0===o&&(o=!0),void 0===n&&(n=!0),void 0===t&&(t=!0),void 0===i&&(i=!1),chrome.app.getDetails().permissions.indexOf("tabs")>-1&&!0===o?void chrome.tabs.getAllInWindow(null,function(o){for(var n=0;n<o.length;n++)if(o[n].url==e)return!0===t?chrome.tabs.update(o[n].id,{url:e,selected:!0}):chrome.tabs.update(o[n].id,{selected:!0}),!0===i&&window.close(),!0;chrome.tabs.create({url:e,selected:!0})}):(chrome.tabs.create({url:e,selected:n}),!0===i&&window.close(),!0))},v=function(e){var o=null;if(void 0===e||null==e)return!1;var n,t,i=(e=e.toLowerCase()).match(/[http|https]:\/\/([^\/]*).*/);if(void 0!==i&&null!=i&&(o=i[1]),!o)return!1;if(/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g.test(o)){var r=RegExp.$1,a=RegExp.$2,s=RegExp.$3,c=RegExp.$4;if(r<256&&a<256&&s<256&&c<256&&(10==r||172==r&&(a>16||a<31)||127==r||192==r&&168==a||169==r&&254==a))return""}if("localhost"==o)return"";o=o.split(":")[0];var l;for(var m in n=".com.cn|.net.cn|.gov.cn|.org.cn|.com.il|.net.il|.org.il|.com.sa|.net.sa|.org.sa|.com.gr|.net.gr|.org.gr|.com.au|.net.au|.org.au|.com.in|.net.in|.org.in|.com.id|.net.id|.org.id|.com.tj|.net.tj|.org.tj|.com.ua|.net.ua|.org.ua|.com.uk|.net.uk|.com.br|.org.br|.net.br|.co.in|.co.id|.co.jp|.co.ls|.co.th|.co.uk|.co.za|.co.ke|.co.nz|.co.il|.co.uz|.co.ma|.co.ug|.co.zm|.co.hu|.co.kr|.co.im|.co.je|.co.cr|.co.ve|.co.vi|.co.ck|.com.ly|.net.ly|.org.ly|.com.vn|.net.vn|.org.vn|.com.na|.net.na|.org.na|.com.af|.net.af|.org.af|.com.bd|.net.bd|.org.bd|.com.gi|.net.gi|.org.gi|.com.my|.net.my|.org.my|.com.ec|.net.ec|.org.ec|.com.ni|.net.ni|.org.ni|.com.mt|.net.mt|.org.mt|.com.py|.net.py|.org.py|.com.pe|.net.pe|.org.pe|.com.uy|.net.uy|.org.uy|.com.ag|.net.ag|.org.ag|.com.cu|.net.cu|.org.cu|.com.do|.net.do|.org.do|.com.jm|.net.jm|.org.jm|.com.pr|.net.pr|.org.pr|.com.vc|.net.vc|.org.vc|.com.fj|.net.fj|.org.fj|.com.bo|.net.bo|.org.bo|.com.nf|.net.nf|.org.nf|.com.co|.org.co|.net.co|.com.sb|.net.sb|.org.sb|.com.bh|.net.bh|.org.bh|.com.om|.net.om|.org.om|.com.bz|.net.bz|.org.bz|.com.gt|.net.gt|.org.gt|.com.mx|.net.mx|.org.mx|.com.ar|.net.ar|.org.ar|.com.hk|.net.hk|.org.hk|.com.tr|.net.tr|.org.tr|.com.sg|.net.sg|.org.sg|.com.tw|.net.tw|.org.tw|.edu.tw|.gov.tw|.com.np|.net.np|.org.np|.com.pk|.net.pk|.org.pk|.com.ph|.net.ph|.org.ph|.com.eg|.net.eg|.org.eg|.com.et|.net.et|.org.et|.com|.net|.org|.edu|.gov|.int|.mil|.cn|.tel|.im|.biz|.cc|.tv|.info|.name|.hk|.mobi|.asia|.cd|.travel|.pro|.museum|.coop|.aero|.ad|.ae|.af|.ag|.ai|.al|.am|.an|.ao|.aq|.ar|.as|.at|.au|.aw|.az|.ba|.bb|.bd|.be|.bf|.bg|.bh|.bi|.bj|.bm|.bn|.bo|.br|.bs|.bt|.bv|.bw|.by|.bz|.ca|.cc|.cf|.cg|.ch|.ci|.ck|.cl|.cm|.cn|.co|.cq|.cr|.cu|.cv|.cx|.cy|.cz|.de|.dj|.dk|.dm|.do|.dz|.ec|.ee|.eg|.eh|.es|.et|.ev|.fi|.fj|.fk|.fm|.fo|.fr|.ga|.gb|.gd|.ge|.gf|.gh|.gi|.gl|.gm|.gn|.gp|.gr|.gt|.gu|.gw|.gy|.hk|.hm|.hn|.hr|.ht|.hu|.id|.ie|.il|.in|.io|.iq|.ir|.is|.it|.jm|.jo|.jp|.ke|.kg|.kh|.ki|.km|.kn|.kp|.kr|.kw|.ky|.kz|.la|.lb|.lc|.li|.lk|.lr|.ls|.lt|.lu|.lv|.ly|.ma|.mc|.md|.mg|.mh|.ml|.mm|.mn|.mo|.mp|.mq|.mr|.ms|.mt|.mv|.mw|.mx|.my|.mz|.na|.nc|.ne|.nf|.ng|.ni|.nl|.no|.np|.nr|.nt|.nu|.nz|.om|.qa|.pa|.pe|.pf|.pg|.ph|.pk|.pl|.pm|.pn|.pr|.pt|.pw|.py|.re|.ro|.ru|.rw|.sa|.sb|.sc|.sd|.se|.sg|.sh|.si|.sj|.sk|.sl|.sm|.sn|.so|.sr|.st|.su|.sy|.sz|.tc|.td|.tf|.tg|.th|.tj|.tk|.tm|.tn|.to|.tp|.tr|.tt|.tv|.tw|.tz|.ua|.ug|.uk|.us|.uy|.va|.vc|.ve|.vg|.vn|.vu|.wf|.ws|.ye|.yu|.za|.zm|.zr|.zw".split("|"))if(n[m]&&(l=n[m].length,o.substr(-l)==n[m])){o=(t=o.substr(0,o.length-l).split("."))[t.length-1]+n[m];break}return o},w=function(e){if(/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g.test(e)){var o=RegExp.$1,n=RegExp.$2,t=RegExp.$3,i=RegExp.$4;if(o<256&&n<256&&t<256&&i<256)return!0}return!1},y=function(e){return e?"www."==e.substr(0,4)?e.substr(4,1):e.substr(0,1):""},k=function(e,o){if(e){var n=document.documentElement.clientHeight/2-30,t=document.documentElement.clientWidth/2-150,i=!1===o?"error":"success";e+='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>',$(".mask").show(),$(".msg").css({top:n,left:t}).addClass(i).html(e).show(),x()}else $(".mask").hide(),$(".msg").html("").removeClass("success").removeClass("error").hide()},x=function(){if("none"==$(".mask").css("display"))return!1;$(".mask,.msg").on("click",function(){$(".mask").hide(),$(".msg").html("").hide()})},O=function(e,o){var n=new Date(e),t={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var i in/(y+)/.test(o)&&(o=o.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+i+")").test(o)&&(o=o.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return o},C=function(){R("c"),R("s"),R("u")},j=function(e){if(void 0===e)return!0;if("object"==typeof e){for(var o in e)return!1;return!0}if("array"==typeof e){for(var o in e)return!1;return!0}return"string"==typeof e?!e:"number"==typeof e?!e:void 0},A=function(e){var o=null;return void 0!==window.localStorage["p__"+e]&&(o=JSON.parse(S(window.localStorage["p__"+e]))),o},q=function(e,o){return window.localStorage["p__"+e]=z(JSON.stringify(o))},R=function(e){window.localStorage.removeItem("p__"+e)},z=function(e){var n,t,i,r,a,s,c,l="",m=0;for(e=D(e);m<e.length;)r=(n=e.charCodeAt(m++))>>2,a=(3&n)<<4|(t=e.charCodeAt(m++))>>4,s=(15&t)<<2|(i=e.charCodeAt(m++))>>6,c=63&i,isNaN(t)?s=c=64:isNaN(i)&&(c=64),l=l+o.charAt(r)+o.charAt(a)+o.charAt(s)+o.charAt(c);return l},S=function(e){var n,t,i,r,a,s,c="",l=0;if(void 0!==e&&null!==e){for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)n=o.indexOf(e.charAt(l++))<<2|(r=o.indexOf(e.charAt(l++)))>>4,t=(15&r)<<4|(a=o.indexOf(e.charAt(l++)))>>2,i=(3&a)<<6|(s=o.indexOf(e.charAt(l++))),c+=String.fromCharCode(n),64!=a&&(c+=String.fromCharCode(t)),64!=s&&(c+=String.fromCharCode(i));c=E(c)}return c},D=function(e){var o,n,t,i;for(o="",t=(e=e.toString()).length,n=0;n<t;n++)(i=e.charCodeAt(n))>=1&&i<=127?o+=e.charAt(n):i>2047?(o+=String.fromCharCode(224|i>>12&15),o+=String.fromCharCode(128|i>>6&63),o+=String.fromCharCode(128|i>>0&63)):(o+=String.fromCharCode(192|i>>6&31),o+=String.fromCharCode(128|i>>0&63));return o},E=function(e){var o,n,t,i,r,a;for(o="",t=e.length,n=0;n<t;)switch((i=e.charCodeAt(n++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=e.charAt(n-1);break;case 12:case 13:r=e.charCodeAt(n++),o+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=e.charCodeAt(n++),a=e.charCodeAt(n++),o+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&a)<<0)}return o}};